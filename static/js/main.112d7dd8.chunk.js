(this.webpackJsonpcarpool=this.webpackJsonpcarpool||[]).push([[0],{103:function(e,t,a){"use strict";a.r(t);var s=a(1),r=a(0),n=a.n(r),c=a(27),i=a.n(c),l=(a(63),a(8)),o=a(9),d=a(11),j=a(10),h=(a(64),a(110)),m=a(109),u=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={loggedInStatus:"NOT_LOGGED_IN",user:{}},e}return Object(o.a)(a,[{key:"render",value:function(){return Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)(h.a,{bg:"dark",variant:"dark",sticky:"top",children:[Object(s.jsx)(h.a.Brand,{href:"/",children:"CarPool PTBO"}),Object(s.jsxs)(m.a,{className:"mr-auto",children:[Object(s.jsx)(m.a.Link,{href:"/",children:"Home"}),Object(s.jsx)(m.a.Link,{href:"/login",children:"Profile"})]})]})})}}]),a}(r.Component),b=a(56),p=a(6),x=a(16),O=a(112),f=a(108),g=a(105),y=a(111),v=a(33),S=a(13),C=a.n(S),P=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).inputSet=function(t){e.setState(Object(x.a)({},t.target.name,t.target.value))},e.getAllpost=function(t){t.preventDefault();var a={endPlace:e.state.endPlace,startPlace:e.state.startPlace};""===a.startPlace||""===a.endPlace?alert("Fill all Fields. Please...!"):C.a.post("https://carpoolptbo.herokuapp.com/searchPost/",a).then((function(t){e.setState({posts:t.data}),0===t.data.length&&alert("No Result Found")}))},e.state={posts:[],startPlace:"",endPlace:"",show:!0},e}return Object(o.a)(a,[{key:"render",value:function(){return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(s.jsx)(O.a,{style:{width:"30rem"},children:Object(s.jsxs)(O.a.Body,{children:[Object(s.jsx)(O.a.Subtitle,{className:"mb-2 text-muted text-center",style:{fontSize:"30px"},children:"CarPool PTBO"}),Object(s.jsx)(O.a.Subtitle,{className:"mb-2 text-muted text-center",children:"Find Your Ride"}),Object(s.jsx)(O.a.Text,{children:Object(s.jsxs)(f.a,{children:[Object(s.jsx)(f.a.Label,{children:"Starting Point"}),Object(s.jsx)(f.a.Control,{type:"text",name:"startPlace",placeholder:"Starting Point",required:!0,onChange:this.inputSet}),Object(s.jsx)(f.a.Label,{children:"Destination"}),Object(s.jsx)(f.a.Control,{type:"text",name:"endPlace",placeholder:"Destination",required:!0,onChange:this.inputSet}),Object(s.jsx)(g.a,{variant:"primary",type:"submit",onClick:this.getAllpost,children:"Search"})]})})]})})}),Object(s.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(s.jsx)(v.Scrollbars,{style:{height:"20rem",width:"65rem"},children:this.state.posts.sort((function(e,t){return e.date<t.date?1:-1})).map((function(e,t){return Object(s.jsxs)(y.a,{variant:"success",children:[Object(s.jsx)(y.a.Heading,{children:"Result Found on your search"}),"Driver: ",e.fname," "," ","Date: ",e.date,"  "," ","From: ",e.startPlace," "," ","To : ",e.endPlace," "," ","Time: ",e.time," "," ","Contact: ",e.mobile," "," ","Rate: $",e.rate]})}))})})]})}}]),a}(r.Component),w=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).inputSet=function(t){e.setState(Object(x.a)({},t.target.name,t.target.value))},e.savePost=function(t){t.preventDefault();var a={startPlace:e.state.start,endPlace:e.state.end,date:e.state.date,time:e.state.time,user_id:e.state.user.id,rate:e.state.rate};""===a.startPlace||""===a.endPlace||""===a.rate||""===a.time||""===a.date||""===a.user_id?alert("Fill all Fields. Please...!"):C.a.post("https://carpoolptbo.herokuapp.com/newPost/",a).then((function(t){200===t.status?e.props.history.push("/userHome"):alert("Sorry Something went wrong. Try again Later")}))},e.state={id:"",user:[],endPlace:"",startPlace:"",date:"",time:"",rate:""},sessionStorage.getItem("status")&&(e.state.user=JSON.parse(sessionStorage.getItem("user"))),e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){!0===!sessionStorage.getItem("status")&&this.props.history.push("/login")}},{key:"render",value:function(){return Object(s.jsx)(s.Fragment,{children:Object(s.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(s.jsxs)(O.a,{border:"primary",style:{width:"30rem"},children:[Object(s.jsx)(O.a.Header,{className:"mb-2 text-muted text-center font-size: 15px",children:"CarPool PTBO"}),Object(s.jsxs)(O.a.Body,{children:[Object(s.jsx)(O.a.Subtitle,{className:"mb-2 text-muted text-center",children:"Create New Post"}),Object(s.jsx)(O.a.Text,{children:Object(s.jsxs)(f.a,{children:[Object(s.jsx)(f.a.Text,{style:{color:"red"},className:"",children:"All Fields Mandatory *"}),Object(s.jsxs)(f.a.Group,{controlId:"formBasicEmail",children:[Object(s.jsx)(f.a.Label,{children:"Starting Point"}),Object(s.jsx)(f.a.Control,{type:"text",name:"start",value:this.start,required:!0,placeholder:"Enter Starting Point",onChange:this.inputSet})]}),Object(s.jsxs)(f.a.Group,{controlId:"formBasicFname",children:[Object(s.jsx)(f.a.Label,{children:"Destination"}),Object(s.jsx)(f.a.Control,{type:"text",name:"end",value:this.end,required:!0,placeholder:"Enter Destination ",onChange:this.inputSet})]}),Object(s.jsxs)(f.a.Row,{children:[Object(s.jsxs)(f.a.Group,{controlId:"formBasicLname",children:[Object(s.jsx)(f.a.Label,{children:"Date"}),Object(s.jsx)(f.a.Control,{type:"date",name:"date",value:this.date,required:!0,placeholder:"Enter cchedule Date",onChange:this.inputSet})]}),Object(s.jsxs)(f.a.Group,{controlId:"formBasicLname",children:[Object(s.jsx)(f.a.Label,{children:"Time "}),Object(s.jsx)(f.a.Control,{type:"time",name:"time",value:this.time,required:!0,placeholder:"Enter Scheduled Time",onChange:this.inputSet})]})]}),Object(s.jsxs)(f.a.Group,{controlId:"formBasicPassword",children:[Object(s.jsx)(f.a.Label,{children:"Rate In CAD"}),Object(s.jsx)(f.a.Control,{type:"number",name:"rate",value:this.rate,required:!0,placeholder:"$ Rate",onChange:this.inputSet})]}),Object(s.jsx)(g.a,{variant:"primary",type:"submit",onClick:this.savePost,children:"Create"})]})}),Object(s.jsx)(O.a.Link,{href:"/userHome",children:"Cancel"})]})]})})})}}]),a}(n.a.Component),k=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).inputSet=function(t){console.log(e.state.pass),e.setState(Object(x.a)({},t.target.name,t.target.value))},e.validateUser=function(t){t.preventDefault();var a={pass:e.state.pass,email:e.state.email};""===a.email||""===a.pass?alert("Fill all Fields. Please...!"):C.a.post("https://carpoolptbo.herokuapp.com/login/",a).then((function(t){0!==t.data.length?(sessionStorage.setItem("status",!0),sessionStorage.setItem("user",JSON.stringify(t.data)),e.props.history.push("/userHome")):0===t.data.length?alert("Invalid Email or Password"):e.setState({errorMessage:"Invalid Email or Password. Try again Later"})}))},e.state={email:"",pass:"",errorMessage:"",user:{},redirect:"/userHome"},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){sessionStorage.getItem("status")&&this.props.history.push("/userHome")}},{key:"render",value:function(){return Object(s.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(s.jsx)(O.a,{style:{width:"30rem"},children:Object(s.jsxs)(O.a.Body,{children:[Object(s.jsx)(O.a.Subtitle,{className:"mb-2 text-muted text-center",children:"Login into your Account"}),Object(s.jsx)(O.a.Text,{children:Object(s.jsxs)(f.a,{children:[Object(s.jsxs)(f.a.Group,{controlId:"formBasicEmail",children:[Object(s.jsx)(f.a.Label,{children:"Email address"}),Object(s.jsx)(f.a.Control,{type:"email",name:"email",placeholder:"Enter email",required:!0,onChange:this.inputSet}),Object(s.jsx)(f.a.Text,{className:"text-muted",children:"We'll never share your email with anyone else."})]}),Object(s.jsxs)(f.a.Group,{controlId:"formBasicPassword",children:[Object(s.jsx)(f.a.Label,{children:"Password"}),Object(s.jsx)(f.a.Control,{type:"password",name:"pass",placeholder:"Password",required:!0,onChange:this.inputSet})]}),this.state.errorMessage&&Object(s.jsxs)("p",{style:{color:"red"},className:"error",children:[" ",this.state.errorMessage," "]}),Object(s.jsx)(g.a,{variant:"primary",type:"submit",onClick:this.validateUser,children:"Submit"})]})}),Object(s.jsx)(O.a.Link,{href:"/register",children:"Need New Account?"}),Object(s.jsx)(O.a.Link,{href:"/resetPass",children:"Forgot Password?"})]})})})}}]),a}(r.Component),L=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).inputSet=function(t){e.setState(Object(x.a)({},t.target.name,t.target.value))},e.saveUser=function(t){t.preventDefault();var a={lname:e.state.lname,fname:e.state.fname,email:e.state.email,pass:e.state.pass,mobile:e.state.mobile};""===a.lname||""===a.fname||""===a.email||""===a.pass||""===a.mobile?alert("Fill all Fields. Please...!"):C.a.post("https://carpoolptbo.herokuapp.com/registration/",a).then((function(t){0!==t.data.length?e.props.history.push("/Home"):0===t.data.length?alert("Email Address Already Exist......!"):alert("Server Not Responding")}))},e.state={fname:"",lname:"",email:"",pass:"",cpass:"",mobile:""},e}return Object(o.a)(a,[{key:"render",value:function(){return Object(s.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(s.jsxs)(O.a,{border:"primary",style:{width:"30rem"},children:[Object(s.jsx)(O.a.Header,{className:"mb-2 text-muted text-center font-size: 15px",children:"CarPool PTBO"}),Object(s.jsxs)(O.a.Body,{children:[Object(s.jsx)(O.a.Subtitle,{className:"mb-2 text-muted text-center",children:"Enter Your Details"}),Object(s.jsx)(O.a.Text,{children:Object(s.jsxs)(f.a,{children:[Object(s.jsx)(f.a.Text,{style:{color:"red"},className:"",children:"All Fields Mandatory *"}),Object(s.jsxs)(f.a.Group,{controlId:"formBasicEmail",children:[Object(s.jsx)(f.a.Label,{children:"Email address"}),Object(s.jsx)(f.a.Control,{type:"email",name:"email",placeholder:"Enter email",onChange:this.inputSet}),Object(s.jsx)(f.a.Text,{className:"text-muted",children:"We'll never share your email with anyone else."})]}),Object(s.jsxs)(f.a.Group,{controlId:"formBasicFname",children:[Object(s.jsx)(f.a.Label,{children:"First Name"}),Object(s.jsx)(f.a.Control,{type:"text",name:"fname",placeholder:"Enter First Name",onChange:this.inputSet})]}),Object(s.jsxs)(f.a.Group,{controlId:"formBasicLname",children:[Object(s.jsx)(f.a.Label,{children:"Last Name"}),Object(s.jsx)(f.a.Control,{type:"text",name:"lname",placeholder:"Enter Last Name",onChange:this.inputSet})]}),Object(s.jsxs)(f.a.Group,{controlId:"formBasicLname",children:[Object(s.jsx)(f.a.Label,{children:"Mobile"}),Object(s.jsx)(f.a.Control,{type:"number",name:"mobile",placeholder:"Mobile",onChange:this.inputSet})]}),Object(s.jsxs)(f.a.Group,{controlId:"formBasicPassword",children:[Object(s.jsx)(f.a.Label,{children:"Password"}),Object(s.jsx)(f.a.Control,{type:"password",name:"pass",placeholder:"Password",onChange:this.inputSet})]}),Object(s.jsx)(g.a,{variant:"primary",type:"submit",onClick:this.saveUser,children:"Sign Up"})]})}),Object(s.jsx)(O.a.Link,{href:"/login",children:"Already Registered?"}),Object(s.jsx)(f.a.Text,{className:"text-muted",children:"I Accepted Terms & Condition."})]})]})})}}]),a}(r.Component),I=a(106),N=a(107),B=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).inputSet=function(t){e.setState(Object(x.a)({},t.target.name,t.target.value))},e.logout=function(t){sessionStorage.removeItem("status"),sessionStorage.removeItem("user"),e.props.history.push("/login")},e.delete=function(t){e.setState(Object(x.a)({},t.target.name,t.target.value)),C.a.post("https://carpoolptbo.herokuapp.com/delete/"+t.target.value+"/").then((function(e){"Post Deleted"===e.data?(alert("Ride Deleted"),window.location.reload(!1)):alert("Something Went Wrong")})).catch((function(e){console.log(e)}))},e.update=function(t){t.preventDefault();var a={fname:e.state.user.fname,lname:e.state.user.lname,email:e.state.user.email,id:e.state.user.id,pass:e.state.pass,mobile:e.state.mobile};C.a.post("https://carpoolptbo.herokuapp.com/update/",a).then((function(e){200===e.status?alert("Profile Updated"):alert("Sorrrrrry !!!! Un-authenticated User !!!!!")}))},e.state={uid:"",user:[],id:"",posts:[],fname:"",email:"",lname:"",pass:"",mobile:"",loading:!0,key:""},sessionStorage.getItem("status")&&(e.state.user=JSON.parse(sessionStorage.getItem("user")),e.id=e.state.user.id,e.fname=e.state.user.fname,e.lname=e.state.user.lname,e.email=e.state.user.email,e.pass=e.state.user.pass,e.mobile=e.state.user.mobile),e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;!0===!sessionStorage.getItem("status")?this.props.history.push("/login"):C.a.get("https://carpoolptbo.herokuapp.com/getPost/"+this.id+"/").then((function(t){e.setState({posts:t.data})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this;return Object(s.jsx)(s.Fragment,{children:Object(s.jsx)("div",{class:"",children:Object(s.jsxs)(I.a,{children:[Object(s.jsxs)("div",{class:"",children:[Object(s.jsx)(g.a,{variant:"error",type:"submit",onClick:this.logout,children:"Logout"}),Object(s.jsxs)(O.a,{border:"success",style:{width:"20rem"},children:[Object(s.jsx)(O.a.Header,{className:"mb-2 text-muted text-center font-size: 15px",children:"You Profile Details"}),Object(s.jsxs)(O.a.Body,{children:[Object(s.jsxs)(O.a.Subtitle,{className:"mb-2 text-muted text-center",children:["Welcome Back: ",Object(s.jsxs)("p",{children:[" ",this.state.fname]})]}),Object(s.jsx)(O.a.Text,{children:Object(s.jsxs)(f.a,{children:[Object(s.jsxs)(f.a.Group,{controlId:"formBasicEmail",children:[Object(s.jsx)(f.a.Control,{type:"email",name:"email",value:this.email,placeholder:this.email,disabled:!0}),Object(s.jsx)(f.a.Text,{className:"text-muted",children:"We'll never share your email with anyone else."})]}),Object(s.jsxs)(f.a.Group,{controlId:"formBasicFname",children:[Object(s.jsx)(f.a.Label,{children:"First Name"}),Object(s.jsx)(f.a.Control,{type:"text",name:"fname",value:this.name,placeholder:this.fname,disabled:!0})]}),Object(s.jsxs)(f.a.Group,{controlId:"formBasicLname",children:[Object(s.jsx)(f.a.Label,{children:"Last Name"}),Object(s.jsx)(f.a.Control,{type:"text",name:"lname",value:this.lname,placeholder:this.lname,disabled:!0})]}),Object(s.jsxs)(f.a.Group,{controlId:"formBasicLname",children:[Object(s.jsx)(f.a.Label,{children:"Mobile"}),Object(s.jsx)(f.a.Control,{type:"text",name:"mobile",placeholder:this.mobile,onChange:this.inputSet})]}),Object(s.jsxs)(f.a.Group,{controlId:"formBasicPassword",children:[Object(s.jsx)(f.a.Label,{children:"Password"}),Object(s.jsx)(f.a.Control,{type:"password",name:"pass",required:!0,placeholder:"Password",onChange:this.inputSet})]}),Object(s.jsx)(g.a,{variant:"success",type:"submit",onClick:this.update,children:"Update"}),Object(s.jsx)(f.a.Text,{className:"text-muted"})]})})]})]})]}),Object(s.jsxs)("div",{class:"col",children:[Object(s.jsxs)("div",{class:"row",children:[Object(s.jsx)("div",{class:"col",children:Object(s.jsx)("h4",{style:{width:"50rem"},children:"Your Ride History"})}),Object(s.jsx)("div",{class:"col",children:Object(s.jsx)(g.a,{variant:"warning",type:"submit",href:"/career",children:"Create Ride"})})]}),Object(s.jsx)("div",{class:"row",children:Object(s.jsx)(v.Scrollbars,{style:{height:"50rem"},children:Object(s.jsxs)(N.a,{variant:"flush",striped:!0,bordered:!0,hover:!0,size:"sm",children:[Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{children:"Ref"}),Object(s.jsx)("th",{children:"Date"}),Object(s.jsx)("th",{children:"Starting Point"}),Object(s.jsx)("th",{children:"Destination"}),Object(s.jsx)("th",{children:"Time"}),Object(s.jsx)("th",{children:"Rate"}),Object(s.jsx)("th",{children:"Action"})]})}),Object(s.jsx)("tbody",{children:this.state.posts.sort((function(e,t){return e.date<t.date?1:-1})).map((function(t,a){return Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:t.id}),Object(s.jsx)("td",{children:t.date}),Object(s.jsx)("td",{children:t.startPlace}),Object(s.jsx)("td",{children:t.endPlace}),Object(s.jsx)("td",{children:t.time}),Object(s.jsxs)("td",{children:["$",t.rate]}),Object(s.jsx)("td",{children:Object(s.jsx)(g.a,{variant:"danger",type:"submit",value:t.id,name:"key",onClick:e.delete,children:"Delete"})})]})}))})]})})})]})]})})})}}]),a}(r.Component),F=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).inputSet=function(t){e.setState(Object(x.a)({},t.target.name,t.target.value))},e.resetPassword=function(t){t.preventDefault();var a={pass:e.state.pass,email:e.state.email,mobile:e.state.mobile};""===a.email||""===a.pass||""===a.mobile?alert("Fill all Fields. Please...!"):C.a.post("https://carpoolptbo.herokuapp.com/login/",a).then((function(t){0!==t.data.length?e.props.history.push("/home"):0===t.data.length?alert("Invalid Email or Password"):e.setState({errorMessage:"Invalid Email or Password. Try again Later"})}))},e.state={email:"",pass:"",mobile:""},e}return Object(o.a)(a,[{key:"render",value:function(){return Object(s.jsx)(s.Fragment,{children:Object(s.jsx)("div",{children:Object(s.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(s.jsx)(O.a,{style:{width:"30rem"},children:Object(s.jsxs)(O.a.Body,{children:[Object(s.jsx)(O.a.Subtitle,{className:"mb-2 text-muted text-center",children:"Recovery  Password"}),Object(s.jsx)(O.a.Text,{children:Object(s.jsxs)(f.a,{children:[Object(s.jsxs)(f.a.Group,{controlId:"formBasicEmail",children:[Object(s.jsx)(f.a.Label,{children:"Email address"}),Object(s.jsx)(f.a.Control,{type:"email",name:"email",formNoValidate:!0,placeholder:"Enter email",required:!0,onChange:this.inputSet})]}),Object(s.jsxs)(f.a.Group,{controlId:"formBasicPassword",children:[Object(s.jsx)(f.a.Label,{children:"Phone Number"}),Object(s.jsx)(f.a.Control,{type:"number",name:"mobile",placeholder:"Phone Number",required:!0,onChange:this.inputSet})]}),Object(s.jsxs)(f.a.Group,{controlId:"formBasicPassword",children:[Object(s.jsx)(f.a.Label,{children:"New Password"}),Object(s.jsx)(f.a.Control,{type:"password",name:"pass",placeholder:"New Password",required:!0,onChange:this.inputSet})]}),Object(s.jsx)(g.a,{variant:"primary",type:"submit",onClick:this.resetPassword,children:"Reset"})]})})]})})})})})}}]),a}(r.Component),T=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={loggedInStatus:"NOT_LOGGED_IN",user:{}},e}return Object(o.a)(a,[{key:"render",value:function(){return Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)(b.a,{children:[Object(s.jsx)(u,{}),Object(s.jsxs)(p.c,{children:[Object(s.jsx)(p.a,{path:"/",exact:!0,component:P}),Object(s.jsx)(p.a,{path:"/home",exact:!0,component:P}),Object(s.jsx)(p.a,{path:"/career",component:w}),Object(s.jsx)(p.a,{path:"/login",component:k}),Object(s.jsx)(p.a,{path:"/register",component:L}),Object(s.jsx)(p.a,{path:"/userHome",component:B}),Object(s.jsx)(p.a,{path:"/resetPass",component:F})]})]})})}}]),a}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(102);i.a.render(Object(s.jsx)(n.a.StrictMode,{children:Object(s.jsx)(T,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},63:function(e,t,a){},64:function(e,t,a){}},[[103,1,2]]]);
//# sourceMappingURL=main.112d7dd8.chunk.js.map